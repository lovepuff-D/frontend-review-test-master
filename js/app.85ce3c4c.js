(function(){"use strict";var e={292:function(e,t,a){var r=a(9242),n=a(3396);function o(e,t){const a=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(a)}var i=a(89);const s={},c=(0,i.Z)(s,[["render",o]]);var l=c,u=a(2483);const d=e=>((0,n.dD)("data-v-5af2416c"),e=e(),(0,n.Cn)(),e),p={class:"wrapper"},m={class:"wrapper_bg"},h={class:"content"},_=d((()=>(0,n._)("header",null,[(0,n._)("div",{class:"header__title"}," Генератор SITEMAP ")],-1))),f={class:"container"};function g(e,t,a,r,o,i){const s=(0,n.up)("FormSiteMap"),c=(0,n.up)("FormLoading"),l=(0,n.up)("FormResult");return(0,n.wg)(),(0,n.iD)("div",p,[(0,n._)("div",m,[(0,n._)("div",h,[_,(0,n._)("main",null,[(0,n._)("div",f,[(0,n.Wm)(s),(0,n.Wm)(c),(0,n.Wm)(l)])])])])])}var v=a(7139);const O=e=>((0,n.dD)("data-v-dccdc3d4"),e=e(),(0,n.Cn)(),e),k={class:"form__item item"},T={class:"item__body item-body"},b=O((()=>(0,n._)("span",{class:"item-body__header"},"Адрес Сайта *",-1))),y={class:"form__item item"},L={class:"item__body item-body"},w=O((()=>(0,n._)("span",{class:"item-body__header"},"Электронная почта",-1)));function D(e,t,a,o,i,s){return(0,n.wg)(),(0,n.j4)(r.uT,{name:"fade"},{default:(0,n.w5)((()=>[e.resultOfTask||!1!==e.isLoading?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("form",{key:0,onSubmit:t[3]||(t[3]=(0,r.iM)((()=>{}),["prevent"])),class:"form"},[(0,n._)("div",k,[(0,n._)("label",T,[b,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.fieldUrl=e),class:(0,v.C_)(["item-body__input",{"error-of-input":!i.isCorrectUrl}]),type:"text",placeholder:"https://site.ru"},null,2),[[r.nr,i.fieldUrl]])])]),(0,n._)("div",y,[(0,n._)("label",L,[w,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>i.fieldEmail=e),class:"item-body__input",type:"text",placeholder:"youremail@example.com"},null,512),[[r.nr,i.fieldEmail]])])]),(0,n._)("button",{onClick:t[2]||(t[2]=e=>(s.createTask(),s.checkValidUrl())),class:"form__btn btn-user"}," Запросить XML ")],32))])),_:1})}var A=a(65),C={name:"Form_Sitemap",components:{},data(){return{fieldUrl:"",fieldEmail:"",isCorrectUrl:!0,isShowPopper:!0}},methods:{createTask(){this.checkValidUrl()&&this.$store.dispatch("createTask",{url:this.fieldUrl,email:this.fieldEmail})},checkValidUrl(){let e=/^http:\/\/|^https:\/\//g.test(this.fieldUrl);return this.isCorrectUrl=e,e},returnToBack(){this.$store.commit("ADD_LINK_TO_DOWNLOAD",null)}},computed:{...(0,A.rn)(["resultOfTask","isLoading"])}};const N=(0,i.Z)(C,[["render",D],["__scopeId","data-v-dccdc3d4"]]);var S=N;const F=e=>((0,n.dD)("data-v-7ede3670"),e=e(),(0,n.Cn)(),e),I={key:0,class:"loading col"},M=F((()=>(0,n._)("div",null,[(0,n._)("div",{class:"loading__header"}," Файл генерируется ")],-1))),j={class:"loading__percent"},U={class:"loading__bar col"},E={class:"bar"};function G(e,t,a,o,i,s){return(0,n.wg)(),(0,n.j4)(r.uT,{name:"fade"},{default:(0,n.w5)((()=>[e.isLoading?((0,n.wg)(),(0,n.iD)("div",I,[M,(0,n._)("span",j,(0,v.zw)(i.tweenedPercent.toFixed(0)+"%"),1),(0,n._)("div",U,[(0,n._)("div",E,[(0,n._)("div",{style:(0,v.j5)({width:i.tweenedPercent.toFixed(0)+"%"}),class:"bar__strip"},null,4)])])])):(0,n.kq)("",!0)])),_:1})}var P=a(8552),x={name:"Form_Loading_Component",data(){return{percentOfLoadingLocal:"",tweenedPercent:0}},computed:{...(0,A.rn)(["isLoading","percentOfLoading"])},watch:{"$store.state.percentOfLoading":{handler(e,t){e<t||(this.percentOfLoadingLocal=this.percentOfLoading)}},percentOfLoadingLocal:{handler(e,t){P.ZP.to(this,{duration:1,tweenedPercent:Number(e)||0})}}}};const K=(0,i.Z)(x,[["render",G],["__scopeId","data-v-7ede3670"]]);var W=K;const $=e=>((0,n.dD)("data-v-006f265a"),e=e(),(0,n.Cn)(),e),B={key:0,class:"generated"},q=$((()=>(0,n._)("p",{class:"generated__header"}," Файл сгенерирован ",-1))),H={class:"generated__subtitle"},R=(0,n.Uk)(" Ресурс: "),Z={style:{"font-weight":"700"}},z={class:"generated__links"},V=["href"];function X(e,t,a,o,i,s){return(0,n.wg)(),(0,n.j4)(r.uT,{name:"fade"},{default:(0,n.w5)((()=>[e.resultOfTask&&!1===e.isLoading?((0,n.wg)(),(0,n.iD)("div",B,[q,(0,n._)("p",H,[R,(0,n._)("span",Z,(0,v.zw)(e.resultOfTask.url),1)]),(0,n._)("div",z,[(0,n._)("button",{onClick:t[0]||(t[0]=(...e)=>s.returnToBack&&s.returnToBack(...e)),class:"btn-user btn_back"}," На главную "),(0,n._)("a",{href:"https://api.sitemap-generator.ru/sitemap/"+e.resultOfTask.sitemap,class:"btn-user btn-user_revers",download:""}," Скачать XML ",8,V)])])):(0,n.kq)("",!0)])),_:1})}var J={name:"Form_Result",data(){return{}},methods:{returnToBack(){this.$store.commit("ADD_LINK_TO_DOWNLOAD",null)}},computed:{...(0,A.rn)(["resultOfTask","isLoading","percentOfLoading"])}};const Q=(0,i.Z)(J,[["render",X],["__scopeId","data-v-006f265a"]]);var Y=Q,ee={name:"Main",components:{FormSiteMap:S,FormLoading:W,FormResult:Y},data(){return{}},methods:{},computed:{},mounted(){}};const te=(0,i.Z)(ee,[["render",g],["__scopeId","data-v-5af2416c"]]);var ae=te;const re=[{path:"/",name:"home",component:ae}],ne=(0,u.p7)({history:(0,u.PO)("/"),routes:re});var oe=ne,ie=(0,A.MT)({state:{isLoading:!1,percentOfLoading:"",resultOfTask:""},getters:{},mutations:{ADD_LINK_TO_DOWNLOAD(e,t){e.resultOfTask=t},CHANGE_STATUS_OF_LOADING(e,t){e.isLoading=t},ADD_PERCENT_OF_LOADING(e,t){(t||0===t)&&(e.percentOfLoading=t.toFixed(0))}},actions:{async createTask({dispatch:e,commit:t},{url:a,email:r}){t("ADD_PERCENT_OF_LOADING",0);await fetch("https://api.sitemap-generator.ru/task",{method:"POST",headers:{authority:"api.sitemap-generator.ru",accept:"application/json, text/plain, */*","accept-language":"ru,en;q=0.9","cache-control":"no-cache","content-type":"application/json;charset=UTF-8",origin:"https://sitemap-generator.ru",pragma:"no-cache",referer:"https://sitemap-generator.ru/","sec-ch-ua":'".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"macOS"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36"},body:JSON.stringify({email:`${r}`,origin:`${a}`})}).then((async t=>{let a=await t.json();e("checkStatus",a.id)}))},async checkStatus({commit:e,dispatch:t},a){e("CHANGE_STATUS_OF_LOADING",!0);let r=setInterval((async()=>{let n=await fetch(`https://api.sitemap-generator.ru/task/stats/${a}`,{method:"GET",headers:{authority:"api.sitemap-generator.ru",accept:"application/json, text/plain, */*","accept-language":"ru,en;q=0.9","cache-control":"no-cache","content-type":"application/json;charset=UTF-8",origin:"https://sitemap-generator.ru",pragma:"no-cache",referer:"https://sitemap-generator.ru/","sec-ch-ua":'".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"macOS"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36"}}),o=await n.json();e("ADD_PERCENT_OF_LOADING",o.current/o.totalCount*100),o.finished&&(t("getTaskInfo",a),clearInterval(r))}),1e3)},async getTaskInfo({commit:e},t){let a=await fetch(`https://api.sitemap-generator.ru/task/${t}`,{method:"GET",headers:{authority:"api.sitemap-generator.ru",accept:"application/json, text/plain, */*","accept-language":"ru,en;q=0.9","cache-control":"no-cache","content-type":"application/json;charset=UTF-8",origin:"https://sitemap-generator.ru",pragma:"no-cache",referer:"https://sitemap-generator.ru/","sec-ch-ua":'".Not/A)Brand";v="99", "Google Chrome";v="103", "Chromium";v="103"',"sec-ch-ua-mobile":"?0","sec-ch-ua-platform":'"macOS"',"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site","user-agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/103.0.0.0 Safari/537.36"}});e("CHANGE_STATUS_OF_LOADING",!1),e("ADD_LINK_TO_DOWNLOAD",await a.json())}},modules:{}});let se=(0,r.ri)(l);se.use(ie).use(oe).mount("#app")}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,a),o.exports}a.m=e,function(){var e=[];a.O=function(t,r,n,o){if(!r){var i=1/0;for(u=0;u<e.length;u++){r=e[u][0],n=e[u][1],o=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(s=!1,o<i&&(i=o));if(s){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,n,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,r){var n,o,i=r[0],s=r[1],c=r[2],l=0;if(i.some((function(t){return 0!==e[t]}))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(c)var u=c(a)}for(t&&t(r);l<i.length;l++)o=i[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(u)},r=self["webpackChunktest"]=self["webpackChunktest"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(292)}));r=a.O(r)})();
//# sourceMappingURL=app.85ce3c4c.js.map